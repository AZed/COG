{% extends "cog/common/layout_center.html" %}
<!--LOCATION:/cog/templates/cog/openid/login.html-->

{% block extrahead %}
	<style type="text/css">
		input.openid {
		    background: url({% url 'openid-logo' %}) no-repeat;
		    background-position: 0 50%;
		    padding-left: 16px;
		    width:380px;
		}

		.th {
			font-weight:bold;
			vertical-align:middle;
			text-align:right;
		}
	</style>
{% endblock %}

{% block main %}

  {% load cog_utils %}

  <div class="prepend-4 span-14">

	<!-- display extra message if available -->
	{% if request.GET.message2 %}
	   <div class="message-box"> {{ request.GET.message2|showMessage }}</div>
	   <p/>
	{% endif %}

	<h2>OpenID Login</h2>

	{% if form.errors %}
	    {% if form.openid_identifier.errors %}
	    	<span class="error">{{ form.openid_identifier.errors|join:", " }}</span>
	    {% endif %}
	    {% if form.next.errors %}
	    	<span class="error">{{ form.next.errors|join:", " }}</span>
	    {% endif %}
	{% endif %}

	<form name="fopenid" action="{% url 'openid-login' %}" method="post">
		{% csrf_token %}

		<div class="mybox">
    	<table>
    	  <caption>ESGF Login</caption>
    	  <tr>
    	    <td style="width:10%;text-align:right; vertical-align:middle;"><b>OpenID</b></td>
	    <td style="width:80%; vertical-align:middle;"><input type="text" id="openid_identifier" name="openid_identifier" value="{{ request.REQUEST.openid }}" size="70"/></td>
    	    <td style="width:10%;"><input name="bsignin" type="submit" value="Login"></td>
    	</td>
    	</tr>
    	</table>
		</div>

		<!-- next page field -->
		{% if next %}
			<input type="hidden" name="next" value="{{ next }}" />
		{% endif %}

		<!-- reminder links -->
		<div style="position: relative;">
			<span style="position: absolute; right: 0px;">
				<a href="{% url 'username_reminder' %}">Forgot OpenID?</a>
			</span>
            <br/>&nbsp;
		</div>

	</form>

		<div style="text-align:center; padding-top:10px">
			<a href="{% url 'username_reminder' %}">Forgot OpenID?</a>
			&nbsp; &nbsp;
			Alternatively, you can use the <a href="{% url 'login' %}">COG login</a> with username and password.
		</div>

	</div>
{% endblock %}