{% extends "cog/common/layout_center.html" %}

{% block extrahead %}
	<style type="text/css">
		input.openid {
		    background: url({% url 'openid-logo' %}) no-repeat;
		    background-position: 0 50%;
		    padding-left: 16px;
		    width:380px;
		}
		
		.th {
			font-weight:bold;
			vertical-align:middle;
			text-align:right;
		}
	</style>
{% endblock %}

{% block main %}

  <div class="prepend-4 span-14">

	<!-- display extra message if available -->
	{% if request.GET.message %}
	   <div class="message-box"> {{ request.GET.message }}</div>
	   <p/>
	{% endif %}
	

<!-- 1) username+password login -->
        
	<h2>Standard Login</h2>
	
	<!-- display authentication errors -->
	{% if form.errors %}
		{% if form.username.errors or form.password.errors %}
			<p class="errornote">Your username and password didn't match. Please try again.</p>
		{% endif %}
	{% endif %}
	
	
	<!-- authentication form -->
	<div style="font-style: italic; text-align:center;">
		Please note that username and password are case-sensitive.
	</div>
	
	<form method="post" action="{% url 'django.contrib.auth.views.login' %}">
	   {% csrf_token %}	   	
		<div class="mybox">
			<table>
				<caption>User Login</caption>
				<tr>
				    <td class="th">Username</td>
				    <td><input type="text" id="username" name="username" /></td>
				</tr>
				<tr>
					<td class="th">Password</td>
				    <td>
				    	<input type="password" id="password" name="password" />
				    	&nbsp;<input type="submit" value="Login" />
				    </td>
				</tr>
			</table>
         </div>
         
         <!-- next page field -->
         {% if next %}
		 	<input type="hidden" name="next" value="{{ next }}" />
		 {% endif %}
         
         <!-- reminder links -->
		 <div style="position: relative;">
			<span style="position: absolute; right: 0px;">
			  <a href="{% url 'username_reminder' %}">Forgot Username?</a>
			  &nbsp;
			  <a href="{% url 'password_reset' %}">Forgot Password?</a>
			</span>
            <br/>&nbsp;
		 </div>
		
	</form>
        

<!-- 2) OpenID login -->
	        
		<h2>OpenID Login</h2>
		
		{% if form.errors %}
		    {% if form.openid_identifier.errors %}
		    	<span class="error">{{ form.openid_identifier.errors|join:", " }}</span>
		    {% endif %}
		    {% if form.next.errors %}
		    	<span class="error">{{ form.next.errors|join:", " }}</span>
		    {% endif %}
		{% endif %}
		
		<form name="fopenid" action="{{ action }}" method="post">
    		{% csrf_token %}
    		
    		<div class="mybox">
	    		<table>
	    			<caption>OpenID Login</caption>
	    			<tr>
	    				<td class="th">OpenID</td>
	    				<td>{{ form.openid_identifier }}
	    					&nbsp;<input name="bsignin" type="submit" value="Login">
	    				</td>
	    			</tr>
	    		</table>
    		</div>
    		
    		<!-- next page field -->
			{% if next %}
				<input type="hidden" name="next" value="{{ next }}" />
			{% endif %}
			 
		</form>			
		
	</div>
{% endblock %}